<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<script src="js/jquery-3.2.1.min.js"></script>
		<script src="js/d3.v4.min.js"></script>
		<style>
		svg .user{
			fill:cornflowerblue;
			}	
		</style>
	</head>
	<body>
		<div id="visit"></div>
		<script type="text/javascript">
			var margin = {top:50,right:50,bottom:50,left:50};
			var w = document.body.clientWidth - margin.left - margin.right;
			var h = 800 - margin.top - margin.bottom;
	
	//用户节点数组
			var nodes = {
				m1:[
					{ id: "1", userName: "xx1", preTime: 3, visited: 2},
       				{ id: "2", userName: "xx2", preTime: 4, visited: 2},
       				{ id: "3", userName: "xx3", preTime: 3, visited: 3},
       				{ id: "4", userName: "xx4", preTime: 1, visited: 2}
				],
				m2:[
					{ id: "5", userName: "xx5", preTime: 0, visited: 0},
       				{ id: "6", userName: "xx6", preTime: 5, visited: 2}	
				],
				m3:[
					{ id: "7", userName: "xx7", preTime: 5, visited: 2 },
       				{ id: "8", userName: "xx8", preTime: 5, visited: 2},
       				{ id: "9", userName: "xx9", preTime: 5, visited: 2},
       				{ id: "10", userName: "xx10", preTime: 5, visited: 2},
       				{ id: "11", userName: "xx11", preTime: 5, visited: 2},
       				{ id: "12", userName: "xx12", preTime: 5, visited: 2}
				]
			};
			
			//用户连线
			var lines = {
				
			};
			
			//区域节点定位
			var posiX = [200,800,500];
			var posiY = [200,200,600];
						  
					//随机数
			var posiData=[];
  for(var j=100;j<400;j++){
    posiData.push(j);
  }
  posiData.sort(function(){//随机打乱这个数组
    return Math.random()-0.5;
  })
  posiData.length=24;//改写长度
			
		var svg = d3.select("#visit")
						.append("svg")
						.attr("width", w)
						.attr("height", h)
						
		//添加用户节点				
		svg.selectAll("circle")
			   .data(nodes.m1)
			   .enter()
			   .append("circle")
			   .attr("class","user")
			   .attr("cx", function(d,i){
  				return posiX[i];
			   })
			   .attr("cy", function(d,i){
  				return posiY[i];
			   })
			   .attr("r", 10);
			   
		//添加区域名称
		svg.select("circle")
		
		</script>
	</body>
</html>
